<div ng-controller="AddDishController">
    <h1>Add a Dish</h1>
    <form class="form-horizontal" name="myForm">
        <div class="form-group">
            <label for="title" class="col-sm-2 control-label">Title: </label>
            <div class="col-sm-10">
                <input ng-model="model.recipe.title" ng-required="true" type="text" name="title" id="title" placeholder="Title" class="form-control">
                <p class="errorValidationText" ng-show="myForm.title.$invalid && myForm.title.$touched">Please pick a valid title with atleast 4 characters.</p>
            </div>
        </div>
        <div class="form-group">

            <label class="col-sm-2 control-label">Cuisine: </label>
            <div class="col-sm-10">
            <select ng-required="true"  name="cuisine" ng-model="model.recipe.cuisine" class="form-control" type="text">
                <option ng-repeat="cuisine in model.cuisines" value="{{cuisine}}">{{cuisine}}</option>
            </select>
            <p class="errorValidationText" ng-show="myForm.cuisine.$invalid && myForm.cuisine.$touched">Please select cuisine type.</p>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">Type: </label>
            <div class="col-sm-10">
                <select ng-required="true"  name="type" ng-model="model.recipe.type" class="form-control" type="text">
                    <option ng-repeat="type in model.types" value="{{type}}">{{type}}</option>
                </select>
                <p class="errorValidationText" ng-show="myForm.type.$invalid && myForm.type.$touched">Please select a type.</p>
            </div>
        </div>
        <div class="form-group">
            <label for="price" class="col-sm-2 control-label">Price: </label>
            <div class="col-sm-10">
                <input name="price" ng-required="true" min="1"   ng-model="model.recipe.price" type="number" name="price" id="price" placeholder="Price" class="form-control">
                <p class="errorValidationText" ng-show="myForm.price.$invalid && myForm.price.$touched">Please enter price of food item more than $1.</p>
            </div>
        </div>
        <div class="form-group">
            <label for="quantity" class="col-sm-2 control-label">Quantity: </label>
            <div class="col-sm-10">
                <input ng-required="true" ng-model="model.recipe.quantity" type="number" name="quantity" id="quantity" placeholder="Quantity" class="form-control">
                <p class="errorValidationText" ng-show="myForm.quantity.$invalid && myForm.quantity.$touched">Please enter quantity.</p>
            </div>
        </div>
        <div class="form-group">
            <label for="ingredients" class="col-sm-2 control-label">Ingredients: </label>
            <div class="col-sm-10">
                <input ng-required="true" ng-model="model.recipe.ingredients" type="text" name="ingredients" id="ingredients" placeholder="Ingredients" class="form-control">
                <p class="errorValidationText" ng-show="myForm.ingredients.$invalid && myForm.ingredients.$touched">Please enter ingredients.</p>
            </div>
        </div>
        <div class="form-group" ng-class="{'has-error': model.image = null}">
            <label for="image" class="col-sm-2 control-label ">Image</label>
            <div class="col-sm-10">
                <input ng-required="true" type="file" accept="image/*" class="form-control" id="image" name="image"
                       onchange="angular.element(this).scope().imageChanged(this)">
                <p class="errorValidationText" ng-show= " myForm.image.$touched && (model.image == '')">Please upload image.</p>
            </div>
        </div>
        <div class="hidden" id="display"></div>
        <input ng-model="recipe.chef" class="hidden"/>
        <div class="form-group" >
            <div class="col-sm-offset-2 col-sm-10">
                <button ng-click="model.add(model.recipe)" type="submit" class="btn btn-primary">Add</button>
            </div>
        </div>
    </form>
</div>