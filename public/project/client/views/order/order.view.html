<div ng-controller="OrderController" ng-hide ="model.dataloaded"  class="text-center" >
    <p>Your payment is being processed. Thank you for your patience.</p>
    <i class="fa fa-spinner fa-spin fa-lg"></i>
</div>
<div ng-controller="OrderController" ng-show="model.dataloaded">
    <h2>Review Details</h2>
    <table class="table table-responsive table-bordered">
        <thead>
        <th>Title</th>
        <th>Cuisine</th>
        <th>Type</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Remove item</th>
        </thead>
        <tr ng-repeat="recipe in model.userSelectedDishes">
            <td>
                {{recipe.title}}
            </td>
            <td>
                {{recipe.cuisine}}
            </td>
            <td>
                {{recipe.type}}
            </td>
             <td>
                {{recipe.price}}
            </td>
            <td>
                {{recipe.quantity}}
            </td>
            <td>
                <button  ng-click="model.remove($index)" class="btn btn-danger">
                    <span class="glyphicon glyphicon-minus"></span>
                </button>
            </td>
        </tr>
    </table>
    <h4>Total Amount:</h4> <h4>{{model.totalAmount}}</h4>

    <h4>Payment Information</h4>
    <form class="form-horizontal col-sm-offset-1">
        <div class="form-group">
            <label for="cardType" class="control-label">Card Type:</label>
            <select ng-model = "model.cardDetails.type" class="form-control" id="cardType" placeholder="Card Type">
                <option>visa</option>
                <option>mastercard</option>
                </select>
        </div>
        <div class="form-group">
            <label for="firstname" class="control-label">First Name:</label>
            <input ng-model = "model.cardDetails.firstname" type="text" class="form-control" id="firstname" placeholder="Cardholder Name">
        </div>
        <div class="form-group">
            <label for="lastname" class="control-label">Last Name:</label>
            <input ng-model = "model.cardDetails.lastname" type="text" class="form-control" id="lastname" placeholder="Cardholder Name">
        </div>
        <div class="form-group">
            <div>
                <label for="cardNumber" class="control-label">Card Number:</label>
                <label ng-model = "model.cardError" id="cardError" class="label-danger">{{model.cardError}}</label>
            </div>
            <div>
                <input ng-model = "model.cardDetails.cardNumber" type="number" class="form-control" id="cardNumber" placeholder="Card Number">
            </div>
        </div>
        <div class="form-group">
            <label for="cvv" class="control-label">CVV:</label>
            <div>
                <input ng-model = "model.cardDetails.cvv" type="number" class="form-control" id="cvv" placeholder="CVV">
            </div>
        </div>
        <div class="form-group">
            <label class="control-label">Expiry Date:</label>
            <div>
                <select name="selectMonth" id="selectMonth"
                        ng-options="month for month in model.months"
                        ng-model="model.cardDetails.expire_month"></select>
                <select name="selectYear" id="selectYear"
                        ng-options="year for year in model.years"
                        ng-model="model.cardDetails.expire_year"></select>
            </div>
        </div>
        <div class="form-group">
            <div>
                <button ng-click="model.pay()" type="submit" class="form-control btn btn-default">Check out</button>
                    </span>
            </div>
        </div>
    </form>
</div>